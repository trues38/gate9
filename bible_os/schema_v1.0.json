{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "BibleMeaningOS_Configuration",
    "description": "Configuration schema for the Bible Meaning Engine v1.0",
    "type": "object",
    "properties": {
        "system_meta": {
            "version": "1.0",
            "engine_name": "G9_Meaning_Engine",
            "tenant_id": "default_user",
            "data_paths": {
                "raw_text": "./data/txt",
                "vector_db": "./data/db/bible.duckdb",
                "cache": "./data/cache"
            }
        },
        "regimes": {
            "type": "array",
            "description": "List of 30 semantic regimes",
            "items": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "pattern": "^R[0-9]{2}$"
                    },
                    "name": {
                        "type": "string"
                    },
                    "hebrew_root": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "emotional_signature": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "archetypes": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "keywords": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                },
                "required": [
                    "id",
                    "name",
                    "description"
                ]
            }
        },
        "embedding_config": {
            "chunk_size": 200,
            "overlap": 20,
            "model": "text-embedding-3-small",
            "dimensions": 1536
        },
        "mapping_logic": {
            "emotion_weight": 0.4,
            "situation_weight": 0.4,
            "history_weight": 0.2,
            "threshold_score": 0.75
        },
        "response_template": {
            "structure": [
                "empathy_mirror",
                "regime_diagnosis",
                "anchor_verse",
                "meaning_bridge",
                "actionable_summary"
            ],
            "tone_guidelines": [
                "Avoid platitudes",
                "Use metaphorical language",
                "Focus on 'being' before 'doing'",
                "Connect ancient context to modern specific"
            ]
        },
        "user_profile": {
            "current_struggle": {
                "type": "string"
            },
            "personality_type": {
                "type": "string"
            },
            "spiritual_history": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            }
        }
    }
}